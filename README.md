# Quantification of Strawberry Maturity
## Getting Started
### 1、对在LabelStudio上标注过的草莓图像进行截取
草莓图像数据集有input_aiwei和input_plantfactory，请严格按照如下命名格式命名
```text
├── input_aiwei/
│   ├── images 
│       ├── img_001.jpg
│   ├── labels
│       ├── labe_001.txt
```
label中的txt文件内容如下（每行的第一个数字代表class，每一行表示一个分割实例，（x,y）坐标是归一化的，交替出现）

```text
0 0.359375 0.7421875 0.3421875 0.74375 0.3375 0.7453125 0.334375 0.7484375 0.3296875 0.75 0.3265625 0.753125 0.309375 0.7703125 0.30625 0.7734375 0.2984375 0.7828125 0.2984375 0.7875 0.296875 0.7921875 0.2953125 0.7984375 0.29375 0.8125 0.2921875 0.81875 0.290625 0.8234375 0.2890625 0.840625 0.2875 0.8515625 0.2859375 0.8625 0.284375 0.875 0.2828125 0.896875 0.28125 0.9046875 0.2828125 0.921875 0.284375 0.9390625 0.2859375 0.94375 0.2890625 0.9484375 0.2890625 0.95625 0.290625 0.9609375 0.296875 0.9625 0.3015625 0.9640625 0.3078125 0.965625 0.3203125 0.9671875 0.325 0.96875 0.3390625 0.9671875 0.3484375 0.965625 0.3546875 0.9640625 0.359375 0.9625 0.3640625 0.959375 0.36875 0.959375 0.3734375 0.95625 0.378125 0.9546875 0.3828125 0.953125 0.3875 0.95 0.39375 0.9484375 0.3984375 0.9453125 0.4046875 0.94375 0.4125 0.9375 0.425 0.9265625 0.4296875 0.9203125 0.4328125 0.9171875 0.4375 0.9125 0.4375 0.9078125 0.440625 0.9046875 0.4453125 0.903125 0.453125 0.8953125 0.4546875 0.890625 0.4578125 0.8875 0.459375 0.8828125 0.4609375 0.8765625 0.4640625 0.871875 0.4640625 0.865625 0.4703125 0.8640625 0.4703125 0.859375 0.4703125 0.85 0.4703125 0.84375 0.4703125 0.8390625 0.4703125 0.8234375 0.4671875 0.8203125 0.465625 0.8125 0.4625 0.8078125 0.459375 0.803125 0.4578125 0.7984375 0.4546875 0.7953125 0.4515625 0.790625 0.4484375 0.7859375 0.4421875 0.78125 0.4390625 0.778125 0.4359375 0.775 0.43125 0.7734375 0.428125 0.7703125 0.421875 0.7625 0.4171875 0.759375 0.4109375 0.7546875 0.40625 0.7515625 0.4015625 0.7484375 0.396875 0.746875 0.3921875 0.74375 0.3859375 0.74375
0 0.5328125 0.7875 0.5265625 0.7890625 0.521875 0.79375 0.5140625 0.8 0.5109375 0.803125 0.5078125 0.80625 0.5046875 0.8109375 0.503125 0.8171875 0.5 0.821875 0.4984375 0.8328125 0.496875 0.846875 0.4953125 0.859375 0.496875 0.8671875 0.4984375 0.871875 0.5015625 0.8765625 0.5015625 0.88125 0.503125 0.8890625 0.5046875 0.8953125 0.5078125 0.9 0.509375 0.9046875 0.5171875 0.915625 0.521875 0.921875 0.5234375 0.928125 0.525 0.9328125 0.5328125 0.940625 0.5421875 0.9515625 0.546875 0.9515625 0.5515625 0.953125 0.5546875 0.95625 0.559375 0.9578125 0.5703125 0.9578125 0.58125 0.95625 0.5859375 0.9546875 0.5890625 0.9515625 0.596875 0.9453125 0.5984375 0.940625 0.603125 0.934375 0.603125 0.9296875 0.6046875 0.9234375 0.6078125 0.9203125 0.6078125 0.915625 0.609375 0.90625 0.6109375 0.8984375 0.6125 0.89375 0.6140625 0.8890625 0.6140625 0.884375 0.615625 0.8640625 0.6203125 0.8578125 0.6234375 0.8546875 0.6265625 0.85 0.63125 0.846875 0.6328125 0.8421875 0.6328125 0.8296875 0.634375 0.8234375 0.6328125 0.815625 0.6296875 0.8109375 0.6296875 0.80625 0.621875 0.8 0.615625 0.7953125 0.6109375 0.79375 0.596875 0.7921875 0.5859375 0.7921875 0.571875 0.790625 0.565625 0.7921875 0.55625 0.7921875 0.55 0.790625 0.5421875 0.7890625

```

以下命令可以实现草莓的截取

```
python draw_polygon.py
```


### 2、草莓HSV图像的色调、饱和度分布可视化以及色调、饱和度的平均值计算

```
python HSV_no_color_analysis.py
```

- 文件名：Ripe2_008_00_mean-h:72.85_mean-s:40.60
- 解释：Ripe2表示class；008表示ID（同一个ID表示在同一个图像中）；00表示该ID分割出来的第几个草莓；mean_h表示色调平均值，mean_s表示饱和度平均值

### 3、量化草莓成熟度：转色比例

```
python red_proporation.py
```
- 文件名：Unripe_025_00_red_proporation:0.08% 
- 解释：Unripe表示class；025表示ID（同一个ID表示在同一个图像中）；00表示该ID分割出来的第几个草莓；0.08%表示红色占比

## tools

### 将草莓图像裁剪到voc数据集上

首先将草莓分割出来，然后缩放，放到voc图像上

```
python Merge_disease_voc.py
```



### 检查彩色叶子图像与对应的灰度图（叶子真值）能否重合

```
python check_is_conincidence.py
```
### 根据多个坐标绘制多边形，将所包含的图像进行截取

```
python draw_polygon_function.py
```
### 根据文件名查看不同成熟度的草莓数量各有多少

```
python Find_category_distribution.py
```
### 将两张图像进行拼接

```
python Merge_images.py
```
### 统计图像分辨率的分布情况

```
python width_height_img.py
```
